{% extends "base.html" %}
{% load static %}
{% load index %}
{{ List|index:x }}
{{ List|index:x|index:y }}


{% block content%}
  <div class ="page-header" align= "center">
    <h1>Basic Page Result</h1>
    <h3>Sentiment Analysis</h3>
  </div>
  <form class ="naivgate" action="http://localhost:8000/basic/" method="post">
    {% csrf_token %}
    <table align="center" width="50%">
      <tr>
        <td align="center"><button type="submit" id="sentiment" name="sentiment">Sentiment Analysis</button> </td>
        <td align="center"><button type="submit" id="metric" name="metric">Surface Metric</button> </td>
      </tr>
    </table>
  </form>
    <h3 align="center">Confusion Matrix</h3>
    <table width= "800px" align="center" border="1">
      <tr>
        <td>
          <h3 align="center">Vader</h3>
        </td>
        <td>
          <table style = "border-collapse:collapse; text-align: center;" cellpadding="5" cellspacing="0" border="1" width="400px" align="center">
            <tr>
              <th> </th>
              <th>Predicted: Positve</th>
              <th>Predicted: Negative</th>
            </tr>
            <tr>
            <td>Actual: Positve</td>
            {% for i in form.vaderConfusionMatrix%}
            <td>{{form.vaderConfusionMatrix|index:0|index:forloop.counter0}}</td>
            {% endfor %}
            </tr>
            <tr>
                <td>Actual: Negative</td>
                {% for i in form.vaderConfusionMatrix%}
                <td>{{form.vaderConfusionMatrix|index:1|index:forloop.counter0}}</td>
                {% endfor %}
            </tr>
          </table>
        </td>
      <td>
        <table style = "border-collapse:collapse; text-align: center;" cellpadding="5" cellspacing="0" border="1" width="25%" align="center">
          <tr>
            <h5 align="center"> Precise: {{form.vaderPrecise}} </h5>
          </tr>
          <tr>
            <h5 align="center"> Recall: {{form.vaderRecall}} </h5>
          </tr>
          <tr>
            <h5 align="center"> F1-score:  </h5>
          </tr>
        </table>
      </td>
      </tr>
      <tr>
        <td>
          <h3 align="center">TextBlob</h3>
        </td>
        <td>
          <table style = "border-collapse:collapse; text-align: center;" cellpadding="5" cellspacing="0" border="1" width="400px" align="center">
            <tr>
              <th> </th>
              <th>Predicted: Positve</th>
              <th>Predicted: Negative</th>
            </tr>
            <tr>
            <td>Actual: Positve</td>
            {% for i in form.textblobConfusionMatrix%}
            <td>{{form.textblobConfusionMatrix|index:0|index:forloop.counter0}}</td>
            {% endfor %}
            </tr>
            <tr>
                <td>Actual: Negative</td>
                {% for i in form.textblobConfusionMatrix%}
                <td>{{form.textblobConfusionMatrix|index:1|index:forloop.counter0}}</td>
                {% endfor %}
            </tr>
          </table>
        </td>
      <td>
        <table style = "border-collapse:collapse; text-align: center;" cellpadding="5" cellspacing="0" border="1" width="25%" align="center">
          <tr>
            <h5 align="center"> Precise: {{form.textblobPrecise}} </h5>
          </tr>
          <tr>
            <h5 align="center"> Recall: {{form.textblobRecall}} </h5>
          </tr>
          <tr>
            <h5 align="center"> F1-score:  </h5>
          </tr>
        </table>
      </td>
      </tr>
    </table>
    <br/>
    <div align="center">
      <button type="submit" name="spacy_button" value="spacy_button" class="btn btn-primary">Download Results </button>
    </div>
    </form>
{% endblock %}
